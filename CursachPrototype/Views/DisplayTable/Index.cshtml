@using System.Data
@model System.Data.DataTable

@{
    ViewBag.Title = "Просмотр таблицы";
}

<h2>@ViewBag.StatusMessage</h2>
<div class="horizontal-container">
    <div class="left">
        <table>
            <thead>
            <tr>
                @foreach (DataColumn dc in Model.Columns)
                {
                    <th>@dc.ColumnName</th>
                }
            </tr>
            </thead>
            <tbody>
            @foreach (DataRow dr in Model.Rows)
            {
                <tr>
                    @foreach (object item in dr.ItemArray)
                    {
                        <td>@item.ToString()</td>
                    }
                    <td>
                        @Ajax.ActionLink("Редактировать", "Edit", new {id = dr[Model.Columns["ID"]].ToString()}, new AjaxOptions {UpdateTargetId = "ajax" })
                    </td>
                    <td>
                      @Ajax.ActionLink("Удалить", "Delete", new { id = dr[Model.Columns["ID"]].ToString() }, new AjaxOptions { UpdateTargetId = "ajax" })
                    </td>
                </tr>
            }
            </tbody>
        </table>

        <br/>
        <hr/>
    </div>

    <div class="left" id="ajax">
    </div>
</div>

@section Scripts{
    <script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.min.js")"></script>
}